<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Agenda profissional para organizar trabalhos de limpeza e babysitting">
    <meta name="keywords" content="agenda, limpeza, babysitter, organiza√ß√£o, clientes">
    <title>ProCleaner - Minha Agenda de Trabalho</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React e ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone para JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìÖ</text></svg>">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // √çcones SVG inline
        const Calendar = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        );

        const Trash2 = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" style={{pointerEvents: 'none'}}>
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                <line x1="10" y1="11" x2="10" y2="17"></line>
                <line x1="14" y1="11" x2="14" y2="17"></line>
            </svg>
        );

        const Plus = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        );

        const User = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
        );

        const Home = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
        );

        const Baby = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="8" r="5"></circle>
                <path d="M12 13c-4 0-7 3-7 6v2h14v-2c0-3-3-6-7-6z"></path>
            </svg>
        );

        const Edit2 = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" style={{pointerEvents: 'none'}}>
                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
            </svg>
        );

        const Check = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
        );

        const X = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" style={{pointerEvents: 'none'}}>
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        );

        const Phone = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
            </svg>
        );

        const Mail = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
        );

        const MapPin = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
            </svg>
        );

        const HelpCircle = ({className}) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                <line x1="12" y1="17" x2="12.01" y2="17"></line>
            </svg>
        );

        const AgendaTrabalho = () => {
          const [compromissos, setCompromissos] = useState([]);
          const [clientes, setClientes] = useState([]);
          const [mostrarForm, setMostrarForm] = useState(false);
          const [abaAtiva, setAbaAtiva] = useState('agenda');
          const [editandoCliente, setEditandoCliente] = useState(null);
          const [novoNomeCliente, setNovoNomeCliente] = useState('');
          const [mostrarFormCliente, setMostrarFormCliente] = useState(false);
          const [clienteSelecionado, setClienteSelecionado] = useState(null);
          const [mostrarAjuda, setMostrarAjuda] = useState(false);
          
          const [novoCompromisso, setNovoCompromisso] = useState({
            cliente: '',
            tipo: 'limpeza',
            data: '',
            horario: '',
            valor: '',
            pago: false,
            observacoes: ''
          });

          useEffect(() => {
            const compromissosSalvos = JSON.parse(localStorage.getItem('compromissos') || '[]');
            const clientesSalvos = JSON.parse(localStorage.getItem('clientes') || '[]');
            setCompromissos(compromissosSalvos);
            setClientes(clientesSalvos);
          }, []);

          useEffect(() => {
            localStorage.setItem('compromissos', JSON.stringify(compromissos));
          }, [compromissos]);

          useEffect(() => {
            localStorage.setItem('clientes', JSON.stringify(clientes));
          }, [clientes]);

          const adicionarCompromisso = () => {
            if (!novoCompromisso.cliente || !novoCompromisso.data || !novoCompromisso.horario) {
              alert('Por favor, preencha pelo menos o cliente, data e hor√°rio!');
              return;
            }

            const compromisso = {
              ...novoCompromisso,
              id: Date.now()
            };

            setCompromissos([...compromissos, compromisso]);
            
            const clienteExiste = clientes.find(c => c.nome === novoCompromisso.cliente);
            if (!clienteExiste) {
              setClientes([...clientes, { 
                nome: novoCompromisso.cliente,
                telefone: '',
                email: '',
                endereco: ''
              }]);
            }

            setNovoCompromisso({
              cliente: '',
              tipo: 'limpeza',
              data: '',
              horario: '',
              valor: '',
              pago: false,
              observacoes: ''
            });
            setMostrarForm(false);
          };

          const removerCompromisso = (id) => {
            if (window.confirm('Tem certeza que quer apagar este compromisso?')) {
              setCompromissos(compromissos.filter(c => c.id !== id));
            }
          };

          const marcarComoPago = (id) => {
            setCompromissos(compromissos.map(c => 
              c.id === id ? { ...c, pago: !c.pago } : c
            ));
          };

          const calcularTotal = () => {
            return compromissos.reduce((total, c) => {
              const valor = parseFloat(c.valor) || 0;
              return total + valor;
            }, 0);
          };

          const calcularTotalPago = () => {
            return compromissos.reduce((total, c) => {
              if (c.pago) {
                const valor = parseFloat(c.valor) || 0;
                return total + valor;
              }
              return total;
            }, 0);
          };

          const abrirDetalhesCliente = (cliente) => {
            setClienteSelecionado(cliente);
            setMostrarFormCliente(true);
          };

          const salvarDetalhesCliente = () => {
            const clientesAtualizados = clientes.map(c => 
              c.nome === clienteSelecionado.nome ? clienteSelecionado : c
            );
            setClientes(clientesAtualizados);
            setMostrarFormCliente(false);
            setClienteSelecionado(null);
          };

          const fecharFormCliente = () => {
            setMostrarFormCliente(false);
            setClienteSelecionado(null);
          };

          const ordenarCompromissos = () => {
            return [...compromissos].sort((a, b) => {
              const dataA = new Date(a.data + ' ' + a.horario);
              const dataB = new Date(b.data + ' ' + b.horario);
              return dataA - dataB;
            });
          };

          const formatarData = (data) => {
            const [ano, mes, dia] = data.split('-');
            return `${dia}/${mes}/${ano}`;
          };

          const removerCliente = (nomeCliente) => {
            const trabalhos = compromissos.filter(c => c.cliente === nomeCliente);
            
            if (trabalhos.length > 0) {
              if (!window.confirm(`${nomeCliente} tem ${trabalhos.length} trabalho(s) agendado(s). Tem certeza que quer remover este cliente? Todos os trabalhos ser√£o apagados tamb√©m.`)) {
                return;
              }
              setCompromissos(compromissos.filter(c => c.cliente !== nomeCliente));
            }
            
            setClientes(clientes.filter(c => c.nome !== nomeCliente));
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 p-4">
              <div className="max-w-4xl mx-auto">
                <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                  <div className="flex justify-between items-start">
                    <div>
                      <h1 className="text-3xl font-bold text-purple-600 flex items-center gap-2">
                        <Calendar className="w-8 h-8" />
                        Minha Agenda de Trabalho
                      </h1>
                      <p className="text-gray-600 mt-2">Organize seus clientes, hor√°rios e pagamentos!</p>
                    </div>
                    <button
                      onClick={() => setMostrarAjuda(true)}
                      className="bg-blue-500 text-white p-3 rounded-full hover:bg-blue-600 transition shadow-lg"
                      title="Ajuda"
                    >
                      <HelpCircle className="w-6 h-6" />
                    </button>
                  </div>
                </div>

                {mostrarAjuda && (
                  <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50" onClick={() => setMostrarAjuda(false)}>
                    <div className="bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto" onClick={(e) => e.stopPropagation()}>
                      <div className="sticky top-0 bg-purple-600 text-white p-6 rounded-t-lg">
                        <div className="flex justify-between items-center">
                          <h2 className="text-2xl font-bold">üìö Guia de Uso</h2>
                          <button onClick={() => setMostrarAjuda(false)} className="text-white hover:bg-purple-700 p-2 rounded-full">
                            <X className="w-6 h-6" />
                          </button>
                        </div>
                      </div>

                      <div className="p-6 space-y-6">
                        <div className="bg-purple-50 p-4 rounded-lg">
                          <h3 className="text-xl font-bold text-purple-600 mb-2">üëã Bem-vinda!</h3>
                          <p className="text-gray-700">Esta agenda foi feita especialmente para voc√™ que trabalha com limpeza e babysitting. Tudo em portugu√™s e super f√°cil de usar!</p>
                        </div>

                        <div>
                          <h3 className="text-xl font-bold text-purple-600 mb-3 flex items-center gap-2">üöÄ Como Come√ßar</h3>
                          <ol className="space-y-2 text-gray-700">
                            <li className="flex gap-2"><span className="font-bold text-purple-600">1.</span><span>Clique em <strong>"Adicionar Novo Trabalho"</strong></span></li>
                            <li className="flex gap-2"><span className="font-bold text-purple-600">2.</span><span>Preencha o nome do cliente, data e hor√°rio</span></li>
                            <li className="flex gap-2"><span className="font-bold text-purple-600">3.</span><span>Escolha se √© limpeza, babysitter ou ambos</span></li>
                            <li className="flex gap-2"><span className="font-bold text-purple-600">4.</span><span>Coloque o valor que vai receber</span></li>
                            <li className="flex gap-2"><span className="font-bold text-purple-600">5.</span><span>Clique em <strong>"Salvar"</strong> e pronto!</span></li>
                          </ol>
                        </div>

                        <div>
                          <h3 className="text-xl font-bold text-purple-600 mb-3">‚ú® Funcionalidades</h3>
                          <div className="space-y-2 text-gray-700 text-sm">
                            <div className="flex items-start gap-2"><span className="text-green-600 text-xl">‚úÖ</span><div><strong>WhatsApp Direto:</strong> Clique no telefone para abrir conversa automaticamente</div></div>
                            <div className="flex items-start gap-2"><span className="text-green-600 text-xl">‚úÖ</span><div><strong>Email R√°pido:</strong> Clique no email para mandar mensagem</div></div>
                            <div className="flex items-start gap-2"><span className="text-green-600 text-xl">‚úÖ</span><div><strong>Endere√ßos Salvos:</strong> Nunca mais esque√ßa endere√ßos</div></div>
                            <div className="flex items-start gap-2"><span className="text-green-600 text-xl">‚úÖ</span><div><strong>Controle de Pagamentos:</strong> Marque o que foi pago</div></div>
                            <div className="flex items-start gap-2"><span className="text-green-600 text-xl">‚úÖ</span><div><strong>Salva Automaticamente:</strong> Seus dados ficam seguros</div></div>
                            <div className="flex items-start gap-2"><span className="text-green-600 text-xl">‚úÖ</span><div><strong>100% Gr√°tis:</strong> Sem mensalidade!</div></div>
                          </div>
                        </div>

                        <button onClick={() => setMostrarAjuda(false)} className="w-full bg-purple-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-purple-700 transition">
                          Entendi! Vamos Come√ßar üöÄ
                        </button>
                      </div>
                    </div>
                  </div>
                )}

                <div className="bg-white rounded-lg shadow-lg mb-6">
                  <div className="flex border-b">
                    <button onClick={() => setAbaAtiva('agenda')} className={`flex-1 py-4 px-6 font-semibold ${abaAtiva === 'agenda' ? 'text-purple-600 border-b-2 border-purple-600' : 'text-gray-500'}`}>
                      üìÖ Agenda
                    </button>
                    <button onClick={() => setAbaAtiva('financeiro')} className={`flex-1 py-4 px-6 font-semibold ${abaAtiva === 'financeiro' ? 'text-purple-600 border-b-2 border-purple-600' : 'text-gray-500'}`}>
                      üí∞ Financeiro
                    </button>
                    <button onClick={() => setAbaAtiva('clientes')} className={`flex-1 py-4 px-6 font-semibold ${abaAtiva === 'clientes' ? 'text-purple-600 border-b-2 border-purple-600' : 'text-gray-500'}`}>
                      üë• Clientes
                    </button>
                  </div>
                </div>

                {abaAtiva === 'agenda' && (
                  <div className="space-y-4">
                    <button onClick={() => setMostrarForm(!mostrarForm)} className="w-full bg-purple-600 text-white py-4 rounded-lg font-bold text-lg flex items-center justify-center gap-2 hover:bg-purple-700 transition">
                      <Plus className="w-6 h-6" />
                      {mostrarForm ? 'Cancelar' : 'Adicionar Novo Trabalho'}
                    </button>

                    {mostrarForm && (
                      <div className="bg-white rounded-lg shadow-lg p-6 space-y-4">
                        <h2 className="text-xl font-bold text-purple-600 mb-4">Novo Compromisso</h2>
                        
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Cliente *</label>
                          <input type="text" value={novoCompromisso.cliente} onChange={(e) => setNovoCompromisso({...novoCompromisso, cliente: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" placeholder="Nome do cliente" />
                        </div>

                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Tipo de Trabalho *</label>
                          <select value={novoCompromisso.tipo} onChange={(e) => setNovoCompromisso({...novoCompromisso, tipo: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg">
                            <option value="limpeza">üè† Limpeza</option>
                            <option value="babysitter">üë∂ Babysitter</option>
                            <option value="ambos">üè†üë∂ Limpeza + Babysitter</option>
                          </select>
                        </div>

                        <div className="grid grid-cols-2 gap-4">
                          <div>
                            <label className="block text-gray-700 font-semibold mb-2">Data *</label>
                            <input type="date" value={novoCompromisso.data} onChange={(e) => setNovoCompromisso({...novoCompromisso, data: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" />
                          </div>
                          <div>
                            <label className="block text-gray-700 font-semibold mb-2">Hor√°rio *</label>
                            <input type="time" value={novoCompromisso.horario} onChange={(e) => setNovoCompromisso({...novoCompromisso, horario: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" />
                          </div>
                        </div>

                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Valor ($)</label>
                          <input type="number" value={novoCompromisso.valor} onChange={(e) => setNovoCompromisso({...novoCompromisso, valor: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" placeholder="50.00" step="0.01" />
                        </div>

                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Observa√ß√µes</label>
                          <textarea value={novoCompromisso.observacoes} onChange={(e) => setNovoCompromisso({...novoCompromisso, observacoes: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" rows="3" placeholder="Ex: Trazer produtos de limpeza, casa tem cachorro, etc." />
                        </div>

                        <button onClick={adicionarCompromisso} className="w-full bg-green-500 text-white py-3 rounded-lg font-bold text-lg hover:bg-green-600 transition">
                          ‚úì Salvar Compromisso
                        </button>
                      </div>
                    )}

                    <div className="space-y-3">
                      {ordenarCompromissos().length === 0 ? (
                        <div className="bg-white rounded-lg shadow p-8 text-center text-gray-500">
                          <p className="text-xl">Nenhum compromisso agendado ainda.</p>
                          <p className="mt-2">Clique em "Adicionar Novo Trabalho" para come√ßar!</p>
                        </div>
                      ) : (
                        ordenarCompromissos().map(compromisso => (
                          <div key={compromisso.id} className="bg-white rounded-lg shadow-lg p-4">
                            <div className="flex items-start justify-between">
                              <div className="flex-1">
                                <div className="flex items-center gap-2 mb-2">
                                  {compromisso.tipo === 'limpeza' && <Home className="w-5 h-5 text-blue-500" />}
                                  {compromisso.tipo === 'babysitter' && <Baby className="w-5 h-5 text-pink-500" />}
                                  {compromisso.tipo === 'ambos' && (<><Home className="w-5 h-5 text-blue-500" /><Baby className="w-5 h-5 text-pink-500" /></>)}
                                  <h3 className="text-xl font-bold text-gray-800">{compromisso.cliente}</h3>
                                </div>
                                
                                <div className="space-y-1 text-gray-600">
                                  <p className="text-lg">üìÖ {formatarData(compromisso.data)} √†s {compromisso.horario}</p>
                                  {compromisso.valor && (<p className="text-lg font-semibold text-green-600">üíµ ${parseFloat(compromisso.valor).toFixed(2)}</p>)}
                                  {compromisso.observacoes && (<p className="text-sm text-gray-500 mt-2">üìù {compromisso.observacoes}</p>)}
                                </div>

                                {compromisso.valor && (
                                  <button onClick={() => marcarComoPago(compromisso.id)} className={`mt-3 px-4 py-2 rounded-lg font-semibold ${compromisso.pago ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>
                                    {compromisso.pago ? '‚úì Pago' : '‚è≥ Aguardando Pagamento'}
                                  </button>
                                )}
                              </div>
                              
                              <button 
                                onClick={() => removerCompromisso(compromisso.id)} 
                                className="text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded transition ml-2 flex-shrink-0"
                                title="Apagar compromisso"
                                type="button"
                              >
                                <Trash2 className="w-5 h-5" />
                              </button>
                            </div>
                          </div>
                        ))
                      )}
                    </div>
                  </div>
                )}

                {abaAtiva === 'financeiro' && (
                  <div className="space-y-4">
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                      <div className="bg-white rounded-lg shadow-lg p-6">
                        <p className="text-gray-600 text-sm mb-1">Total a Receber</p>
                        <p className="text-3xl font-bold text-purple-600">${calcularTotal().toFixed(2)}</p>
                      </div>
                      <div className="bg-white rounded-lg shadow-lg p-6">
                        <p className="text-gray-600 text-sm mb-1">J√° Recebido</p>
                        <p className="text-3xl font-bold text-green-600">${calcularTotalPago().toFixed(2)}</p>
                      </div>
                      <div className="bg-white rounded-lg shadow-lg p-6">
                        <p className="text-gray-600 text-sm mb-1">Ainda Falta</p>
                        <p className="text-3xl font-bold text-orange-600">${(calcularTotal() - calcularTotalPago()).toFixed(2)}</p>
                      </div>
                    </div>

                    <div className="bg-white rounded-lg shadow-lg p-6">
                      <h2 className="text-xl font-bold text-purple-600 mb-4">Pagamentos Pendentes</h2>
                      {compromissos.filter(c => !c.pago && c.valor).length === 0 ? (
                        <p className="text-gray-500 text-center py-4">Tudo pago! üéâ</p>
                      ) : (
                        <div className="space-y-3">
                          {compromissos.filter(c => !c.pago && c.valor).map(c => (
                            <div key={c.id} className="flex justify-between items-center p-3 bg-yellow-50 rounded-lg">
                              <div>
                                <p className="font-semibold">{c.cliente}</p>
                                <p className="text-sm text-gray-600">{formatarData(c.data)}</p>
                              </div>
                              <p className="text-lg font-bold text-orange-600">${parseFloat(c.valor).toFixed(2)}</p>
                            </div>
                          ))}
                        </div>
                      )}
                    </div>
                  </div>
                )}

                {abaAtiva === 'clientes' && (
                  <div className="space-y-4">
                    {mostrarFormCliente && clienteSelecionado && (
                      <div className="bg-white rounded-lg shadow-lg p-6">
                        <div className="flex justify-between items-center mb-4">
                          <h2 className="text-xl font-bold text-purple-600">Informa√ß√µes de {clienteSelecionado.nome}</h2>
                          <button onClick={fecharFormCliente} className="text-gray-500 hover:text-gray-700">
                            <X className="w-6 h-6" />
                          </button>
                        </div>

                        <div className="space-y-4">
                          <div>
                            <label className="block text-gray-700 font-semibold mb-2 flex items-center gap-2">
                              <User className="w-4 h-4" />
                              Nome
                            </label>
                            <input type="text" value={clienteSelecionado.nome} onChange={(e) => setClienteSelecionado({...clienteSelecionado, nome: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" />
                          </div>

                          <div>
                            <label className="block text-gray-700 font-semibold mb-2 flex items-center gap-2">
                              <Phone className="w-4 h-4" />
                              WhatsApp / Telefone
                            </label>
                            <input type="tel" value={clienteSelecionado.telefone || ''} onChange={(e) => setClienteSelecionado({...clienteSelecionado, telefone: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" placeholder="(555) 123-4567" />
                          </div>

                          <div>
                            <label className="block text-gray-700 font-semibold mb-2 flex items-center gap-2">
                              <Mail className="w-4 h-4" />
                              Email
                            </label>
                            <input type="email" value={clienteSelecionado.email || ''} onChange={(e) => setClienteSelecionado({...clienteSelecionado, email: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" placeholder="cliente@email.com" />
                          </div>

                          <div>
                            <label className="block text-gray-700 font-semibold mb-2 flex items-center gap-2">
                              <MapPin className="w-4 h-4" />
                              Endere√ßo
                            </label>
                            <textarea value={clienteSelecionado.endereco || ''} onChange={(e) => setClienteSelecionado({...clienteSelecionado, endereco: e.target.value})} className="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" rows="2" placeholder="Rua, n√∫mero, apartamento, cidade..." />
                          </div>

                          <button onClick={salvarDetalhesCliente} className="w-full bg-purple-600 text-white py-3 rounded-lg font-bold text-lg hover:bg-purple-700 transition">
                            ‚úì Salvar Informa√ß√µes
                          </button>
                        </div>
                      </div>
                    )}

                    <div className="bg-white rounded-lg shadow-lg p-6">
                      <h2 className="text-xl font-bold text-purple-600 mb-4">Meus Clientes</h2>
                      {clientes.length === 0 ? (
                        <p className="text-gray-500 text-center py-4">Voc√™ ainda n√£o tem clientes cadastrados.</p>
                      ) : (
                        <div className="grid grid-cols-1 gap-3">
                          {clientes.map((cliente, index) => {
                            const trabalhos = compromissos.filter(c => c.cliente === cliente.nome);
                            const totalCliente = trabalhos.reduce((sum, c) => sum + (parseFloat(c.valor) || 0), 0);
                            
                            return (
                              <div key={index} className="p-4 border-2 border-purple-200 rounded-lg hover:border-purple-400 transition">
                                <div className="flex items-start justify-between mb-3">
                                  <div className="flex items-center gap-2 flex-1">
                                    <User className="w-5 h-5 text-purple-600" />
                                    <h3 className="font-bold text-lg">{cliente.nome}</h3>
                                  </div>
                                  <div className="flex gap-1">
                                    <button onClick={() => abrirDetalhesCliente(cliente)} className="p-1.5 text-blue-500 hover:bg-blue-50 rounded" title="Ver/editar informa√ß√µes">
                                      <Edit2 className="w-4 h-4" />
                                    </button>
                                    <button onClick={() => removerCliente(cliente.nome)} className="p-1.5 text-red-500 hover:bg-red-50 rounded" title="Remover cliente">
                                      <Trash2 className="w-4 h-4" />
                                    </button>
                                  </div>
                                </div>

                                <div className="space-y-1.5 text-sm text-gray-600 ml-7">
                                  {cliente.telefone && (
                                    <div className="flex items-center gap-2">
                                      <Phone className="w-4 h-4 text-green-600" />
                                      <a href={`https://wa.me/${cliente.telefone.replace(/\D/g, '')}`} target="_blank" rel="noopener noreferrer" className="text-green-600 hover:underline">
                                        {cliente.telefone}
                                      </a>
                                    </div>
                                  )}
                                  {cliente.email && (
                                    <div className="flex items-center gap-2">
                                      <Mail className="w-4 h-4 text-blue-600" />
                                      <a href={`mailto:${cliente.email}`} className="text-blue-600 hover:underline">
                                        {cliente.email}
                                      </a>
                                    </div>
                                  )}
                                  {cliente.endereco && (
                                    <div className="flex items-start gap-2">
                                      <MapPin className="w-4 h-4 text-red-600 mt-0.5" />
                                      <span className="text-gray-700">{cliente.endereco}</span>
                                    </div>
                                  )}
                                </div>

                                <div className="mt-3 pt-3 border-t border-gray-200 flex justify-between items-center">
                                  <p className="text-sm text-gray-600">
                                    {trabalhos.length} trabalho{trabalhos.length !== 1 ? 's' : ''} agendado{trabalhos.length !== 1 ? 's' : ''}
                                  </p>
                                  {totalCliente > 0 && (
                                    <p className="text-sm font-semibold text-green-600">Total: ${totalCliente.toFixed(2)}</p>
                                  )}
                                </div>
                              </div>
                            );
                          })}
                        </div>
                      )}
                    </div>
                  </div>
                )}
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<AgendaTrabalho />);
    </script>
</body>
</html
